<tool id="proteomics_search_interprophet_1" name="InterProphet" version="1.0.0">
  <description>Combine Peptide Prophet results from multiple search engines</description>


<!-- Note .. the input file is assumed to be the first argument -->
  <command interpreter="ruby">

	interprophet_wrapper.rb -o interprophet_output.pep.xml

	## Inputs.
	${first_input}
	#for $input_file in $input_files:
	${input_file.additional_input}
	#end for  	

  </command>

  <inputs>

	<param name="first_input" type="data" format="peptideprophet_pepxml" label="Peptide Prophet Results" help="These files will typically be outputs from omssa or xtandem search tools that have subsequently been run through peptide prophet"/> 	
		
	<repeat name="input_files" title="Additional PepXML Input Files">
		<param format="peptideprophet_pepxml" name="additional_input" type="data" label="PepXML produced by Peptide Prophet" help=""/>
	</repeat>
	

  </inputs>
  <outputs>
    <data format="interprophet_pepxml" name="output" metadata_source="first_input" label="interprophet.${first_input.display_name}" from_work_dir="interprophet_output.pep.xml"/>
  </outputs>

  <help>
	Run InterProphet
  </help>

</tool>
